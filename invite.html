<!DOCTYPE html>
<html lang="cn">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç©ºé—´ç«™-å‘¨å¹´èµåŠ©</title>
    <link rel="stylesheet" href="./css/invite.css">
    <link rel="stylesheet" href="./css/nav.css">
    <link rel="icon" href="https://sc2.nosdn.127.net/1/style/images/sc2.ico" type="image/x-icon"/>
</head>


<body>
    <div class="bg"></div>
    <div class="nav">
        <div class="logo"><img src="./assets//æ­»äº¡ç©ºé—´ç«™.png" alt=""></div>
        <ul>
            <!-- <li><a href="/">é¦–é¡µ</a></li> -->
            <li><a href="/bulletin.html">å…¬å‘Š</a></li>
            <li ><a href="/index.html">èµåŠ©</a></li>
            <li><a href="/personal.html">å®šåˆ¶</a></li>
            <li><a href="/contest.html">ç«é€Ÿ</a></li>

            <!-- <li><a href="/personal.html">å®šåˆ¶</a></li> -->
            <li class="active"><a href="/invite.html">é‚€æ–°</a></li>
            <!-- <li><a href="/bulletin.html">åœ°å›¾</a></li> -->
        </ul>   
    </div>

    <div id="pageCenter">
        <div class="title">
            <!-- <p class="logo" style="width: 50%;"><img src="./assets//æ­»äº¡ç©ºé—´ç«™.png" alt=""></p> -->
            <p class="main">é‚€æ–°æ¦œ</p>

            <!-- <span class="time">æˆªæ­¢æ—¶é—´3æœˆ20æ—¥</span> -->
            <!-- <div class="rantInfo">
                <span class="white">
                <p class="must">æ’è¡Œæ¦œå‰10åæ¯äººä¸€ä¸ªä¼ å¥‡éšä»ã€å¥¥ä¸ã€‘</p>
            </div> -->
        </div>
        <!-- <div class="custom">
            <div class="block1">
                <img draggable="false" src="./assets/details/å®šåˆ¶è¯¦æƒ….png" alt="">
            </div>
            <div class="block2">
                <img draggable="false" src="./assets/details/èµåŠ©è¯¦æƒ….png" alt="">
            </div>
        </div> -->
        <div id="List">
            <div class="awardMoney">

                <div class="box">
                    <img src="./assets/icon/SSS.png" alt="">
                    <p class="hintTitle">600,000</p>
                </div>

                <span class="hintInfo">
                    åªè¦æ‹‰äºº(æ˜Ÿé™…ç©å®¶å°±è¡Œ)è¿›ç¾¤å°±ç®—é‚€æ–°,åªè¦é€€çš„ä¸çŒ›ä¸ä¼šå‡å°‘äººæ•°è®¡ç®—,æ¶æ„ä½œå¼Šè€…è¸¢å‡ºæ¦œå•
                </span>
                <span class="moneyInfo">
                    å€’è®¡æ—¶ï¼š10å¤© 06å°æ—¶ 05åˆ†é’Ÿ
                </span>
            </div>
            <div class="List_image">
                <div class="list_topImage"></div>
                <div class="list_bottomImage"></div>
            </div>
            <ul>
            </ul>
        </div>
    </div>
    <script>
        let subMoney = 0;
        let memberMoney = [
            {name: "èŒbao&æœé…±^",qq: 2756047249,quota: 25,use:25},
            {name: "è°æˆ³æˆ‘ è°å¥³è£…",qq: 361525195,quota: 3},
            {name: "å¾·ç›è¥¿äºš",qq: 2567156437,quota: 4},
            {name: "æ¨±å­",qq: 3166882510,quota: 26,use:25},
            {name: "å¯å¯å¯å¯å¯å¯å¯å¯å¯å¯å¯è‰",qq: 351221793,quota: 9,use:9},
            {name: "å‰å°”å‰æ–¯å¿’",qq: 2651056478,quota: 3},
            {name: "åŠæ¯å†·å’–å•¡",qq: 3303420073,quota: 2},
            {name: "æˆ‘æƒ³å¯¹ä½ è¯´",qq: 3405964805,quota: 2},
            {name: "å¤©",qq: 417357882,quota: 9,use:8},
            {name: "å‘Šè¯‰ç™½ç™œé£",qq: 2030938241,quota: 1},
            {name: "ndisv",qq: 1340741651,quota: 1},
            {name: "ä¿®å‹¾",qq: 2377563042,quota: 3},
            {name: "ğŸŒ§ï¸å²šã®æ·±æƒ…",qq: 1874800724,quota: 1},
            {name: "å¹³å®‰æ˜¯ç¦",qq: 3371333743,quota: 1},
        ]
        // æ ¹æ®æ•°ç»„è‡ªåŠ¨åŒ–åˆ›å»ºåˆ—è¡¨å…ƒç´ 
        function initList(){
            let ListUl = document.querySelector("#List>ul");
            for(let i=0;i<memberRant.length;i++){
                let memberObj = memberRant[i];
                subMoney+=memberObj.quota;
                // åˆ›å»ºli
                let li = document.createElement("li");
                // åˆ›å»ºå¤´åƒ
                let img = document.createElement("img");
                img.classList.add("header");
                img.src = `https://q4.qlogo.cn/g?b=qq&nk=${memberObj.qq}&s=140`;
                // åˆ›å»ºä¿¡æ¯å—
                let info = document.createElement("div");
                info.classList.add("info");
                    // åˆ›å»ºç”¨æˆ·å
                    let userName = document.createElement("p");
                    userName.classList.add("userName");
                    userName.innerText = memberObj.name;
                    // åˆ›å»ºç”¨æˆ·QQ
                    let userqq = document.createElement("p");
                    userqq.classList.add("qq");
                    userqq.innerText = memberObj.qq;
                    // åˆ›å»ºé¢åº¦
                    let usermoney = document.createElement("p");
                    usermoney.classList.add("money");
                    usermoney.innerText = memberObj.quota + "äºº";
                // åˆ›å»ºæ’è¡Œåºå·
                let userindex = document.createElement("div");
                userindex.classList.add("index");
                userindex.innerText = i+1;

                let AwardBlock = document.createElement("div");
                AwardBlock.classList.add("AwardBlock");
                let AwardSpan = document.createElement("span");
                AwardSpan.innerHTML = memberObj.award;
                AwardBlock.appendChild(AwardSpan);

                // æ•´åˆå…ƒç´ 
                info.appendChild(userName);
                info.appendChild(userqq);
                info.appendChild(usermoney);
                li.appendChild(img);
                li.appendChild(info);
                li.appendChild(AwardBlock);
                li.appendChild(userindex);
                ListUl.appendChild(li);
            }
            let hintTitle = document.querySelector('.hintTitle');
            // hintTitle.innerText = numFormat(subMoney * 1000);
            // hintTitle.innerHTML = `<p class='small'>å¹³åˆ†</p> <p class='numberMoney'> ${subMoney* 1000}</p> <p class='small'>æ°´æ™¶</p>`;
            hintTitle.innerHTML = `<p class='numberMoney'>SSSå®šåˆ¶è£…å¤‡</p>`;
            console.log(subMoney);
        }
        function numFormat(num){
            num=num.toString().split(".");  // åˆ†éš”å°æ•°ç‚¹
            var arr=num[0].split("").reverse();  // è½¬æ¢æˆå­—ç¬¦æ•°ç»„å¹¶ä¸”å€’åºæ’åˆ—
            var res=[];
            for(var i=0,len=arr.length;i<len;i++){
            if(i%3===0&&i!==0){
                res.push(",");   // æ·»åŠ åˆ†éš”ç¬¦
            }
            res.push(arr[i]);
            }
            res.reverse(); // å†æ¬¡å€’åºæˆä¸ºæ­£ç¡®çš„é¡ºåº
            if(num[1]){  // å¦‚æœæœ‰å°æ•°çš„è¯æ·»åŠ å°æ•°éƒ¨åˆ†
            res=res.join("").concat("."+num[1]);
            }else{
            res=res.join("");
            }
            return res;
        }

        let memberRant = [];
        // åˆå¹¶è®°å½•è‡³QQä¸ºå•ä½ä¸‹çš„æ•°æ®
        function initRant(){
            // æ£€ç´¢æ‰€æœ‰è®°å½•
            for (let index = 0; index < memberMoney.length; index++) {
                let member = memberMoney[index];
                let isExist = false;
                // æ£€ç´¢ç°æœ‰æ’è¡Œæ˜¯å¦å·²ç»æœ‰è®°å½•
                for (let j = 0; j < memberRant.length; j++) {
                    let rant = memberRant[j];
                    if(rant.qq == member.qq){
                        rant.quota += member.quota;
                        isExist = true;
                        break;
                    }
                }
                if(!isExist){
                    memberRant.push(member);
                }
            }
        }
        // å¯¹èµåŠ©æ•°æ®è¿›è¡Œæ’åº
        function initRantSort(){
            memberRant = memberRant.sort(function(a,b){
                return  b.quota - a.quota;
            })
        }
        function SetAward(){
            memberRant.forEach((item,i)=>{
                item.award = "";
                let index = i+1;
                let stone = 0;
                let package = 0;

                item.award += ` <p style='color:gold'><img src='./assets/icon/é£å‡.png' />${(item.quota - (item.use || 0)) * 15}Â¥ <span class='mini'>å‰©ä½™å®šåˆ¶å‡å…</span></p>`
                if(index == 1){
                    item.award += " <p style='color:gold'><img src='./assets/icon/SSS.png' />SSSé™å®šä¸“å±å®šåˆ¶è£…å¤‡</p>"

                }
                if(index == 2){
                    item.award += " <p style='color:gold'><img src='./assets/icon/SSS.png' />SSSä¸“å±å®šåˆ¶è£…å¤‡</p>"
                }
                if(index == 3){
                    item.award += " <p style='color:gold'><img src='./assets/icon/SSS.png' />SSä¸“å±å®šåˆ¶è£…å¤‡</p>"
                }
                if(index == 4){
                    item.award += " <p style='color:gold'><img src='./assets/icon/SSS.png' />Sä¸“å±å®šåˆ¶è£…å¤‡</p>"
                }
            })
        }
        initRant();
        initRantSort();
        SetAward();
        initList();
    </script>
</body>

</html>